---
title: "eslintã§ç¾åœ¨é©å¿œã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒ«ã‚’ä¸€è¦§è¡¨ç¤ºã™ã‚‹"
emoji: "ğŸ§‘â€ğŸ”§"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [eslint]
published: true
---


## ã¯ã˜ã‚ã«

eslintã§ç¾åœ¨é©å¿œã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒ«ä¸€è¦§ã‚’ç¢ºèªã—ãŸã„ã“ã¨ãŒã‚ã‚Šã¾ã—ãŸã€‚

ä¾‹ãˆã°ã€ä¸‹è¨˜ã®ã‚ˆã†ãªè¨­å®šã«ãªã£ã¦ã„ã‚‹æ™‚ã€ã©ã®ruleãŒé©å¿œã•ã‚Œã¦ã„ã‚‹ã‹ã‚’ç¢ºèªã—ãŸã„ã§ã™ã€‚

```json:.eslintrc.js
extends: [
  'airbnb-base',
  'eslint:recommended',
  'plugin:@typescript-eslint/recommended',
  'plugin:prettier/recommended',
  'prettier'
],
rules: {
  'no-unused-vars': 'off',
  '@typescript-eslint/no-unused-vars': ['error'],
  'no-inner-declarations': 'off',
},
```  

å€‹åˆ¥ã®ãƒ™ãƒ¼ã‚¸ã§ç¢ºèªã™ã‚‹æ–¹æ³•(airbnb-baseã ã¨[ã“ã“ã‚’ã¿ã‚‹](https://github.com/airbnb/javascript/tree/master/packages/eslint-config-airbnb-base/rules))ã‚‚ã‚ã‚Šãã†ã§ã™ãŒçµæ§‹å¤§å¤‰ã§ã™ã€‚
ä»Šå›ã€ç¾åœ¨é©å¿œã•ã‚Œã¦ã„ã‚‹ruleã‚’ä¸€è¦§è¡¨ç¤ºã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆã—ãŸã®ã§ã€å‚™å¿˜éŒ²ã¨ã—ã¦æ®‹ã—ã¦ãŠãã¾ã™ã€‚

## æ–¹æ³•

æ‰‹é †ã¨ã—ã¦ã¯ä¸‹è¨˜ã§ã™ã€‚

1. ESlinsã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡ºåŠ›
2. ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§æ•´å½¢ã—ã¦ãƒªã‚¹ãƒˆåŒ–

### ESlinsã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡ºåŠ›
eslintã§ã¯ `--print-config` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã€ã“ã‚Œã‚’ä»˜ã‘ã¦å®Ÿè¡Œã™ã‚‹ã¨è¨­å®šã—ãŸæ§‹æˆã‚’å‡ºåŠ›ã§ãã¾ã™ã€‚
https://eslint.org/docs/user-guide/command-line-interface#print-config

`yarn eslint --print-config src/index.ts > eslint-setting.json` ã‚’å®Ÿè¡Œã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

rulesã«è¨­å®šã•ã‚ŒãŸå†…å®¹ãŒä¸€è¦§ã§å‡ºã¦ã„ã‚‹ã®ã§ã“ã¡ã‚‰ã‹ã‚‰ç¢ºèªã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚

(ä½™è¨ˆãªç®‡æ‰€ã¯æ‰‹å‹•ã§å‰Šé™¤ã—ã¦jsonã®å½¢å¼ã«ã—ã¾ã™ã€‚)
```json:eslint-setting.json
yarn run v1.19.1
$ /Users/private_project/temp-work/lint/node_modules/.bin/eslint --print-config index.ts
{
  "rules": {
    "no-unused-vars": [
      "off",
      {
        "vars": "all",
        "args": "after-used",
        "ignoreRestSiblings": true
      }
    ],
    "@typescript-eslint/no-unused-vars": [
      "error"
    ],
    "no-inner-declarations": [
      "off"
    ],
   },
  "settings": {
    "import/ignore": [
      "node_modules",
      "\\.(coffee|scss|css|less|hbs|svg|json)$"
    ]
  },
  "ignorePatterns": []
}
Done in 1.51s.
```

### ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§æ•´å½¢ã—ã¦ãƒªã‚¹ãƒˆåŒ–

å…ˆç¨‹å‡ºåŠ›ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ã€ãƒªã‚¹ãƒˆåŒ–ã—ã¾ã™ã€‚
ruleã‹ã‚‰å†…å®¹ãŒè¨˜è¼‰ã•ã‚ŒãŸãƒšãƒ¼ã‚¸ã«é£›ã³ãŸã„ã®ã§ã€ãƒªãƒ³ã‚¯ã‚‚ä»˜ã‘ã¦ã¾ã™ã€‚
(å‹•ã‘ã°ã„ã„ã§ä½œã£ã¦ã„ã‚‹ã®ã§ã‚³ãƒ¼ãƒ‰ã¯ã‚ã¡ã‚ƒé›‘ã§ã™...)

```typescript:index.ts
import * as fs from 'fs';

const level = (level: number | string): number => {
  if (typeof level === 'number') {
    return level;
  }

  switch (level) {
    case 'off':
      return 0;
    case 'warn':
      return 1;
    case 'error':
      return 2;
    default:
      throw new Error('æƒ³å®šå¤–ã®å€¤');
  }
};

(async () => {
  const jsonObject: Record<string, any> = JSON.parse(fs.readFileSync(`${__dirname}/eslint-setting.json`, 'utf8'));
  const eslintUrl = 'https://eslint.org/docs/rules/';
  const typescriptEslintUrl = 'https://github.com/typescript-eslint/typescript-eslint/tree/master/packages/eslint-plugin/docs/rules/';
  const importUrl = 'https://github.com/benmosher/eslint-plugin-import/tree/master/docs/rules/';

  const rules: { url: string; level: number }[] = [];
  for (const [key, value] of Object.entries(jsonObject.rules)) {
    let url = `${eslintUrl}${key}`;
    if (key.startsWith('@typescript-eslint')) {
      url = `${typescriptEslintUrl}${key.replace('@typescript-eslint/', '')}.md`;
    }
    if (key.startsWith('import/')) {
      url = `${importUrl}${key.replace('import/', '')}.md`;
    }

    rules.push({
      url: `[${key}](${url})`,
      // eslint-disable-next-line @typescript-eslint/ban-ts-comment
      // @ts-ignore
      level: level(value[0]),
    });
  }
  rules.sort((a, b) => a.level - b.level);
  const lines = rules.map((rule) => {
    return `${rule.url}: ${rule.level}`;
  });
  fs.writeFileSync(`${__dirname}/output.md`, lines.join('\n'), 'utf8');
})().catch(async () => {});
```

å®Ÿè¡Œã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

```md:output.md
[no-unused-vars](https://eslint.org/docs/rules/no-unused-vars): 0
[no-inner-declarations](https://eslint.org/docs/rules/no-inner-declarations): 0
[curly](https://eslint.org/docs/rules/curly): 0
[func-names](https://eslint.org/docs/rules/func-names): 1
[no-console](https://eslint.org/docs/rules/no-console): 1
[no-alert](https://eslint.org/docs/rules/no-alert): 1
[no-useless-return](https://eslint.org/docs/rules/no-useless-return): 2
[no-void](https://eslint.org/docs/rules/no-void): 2
[prefer-promise-reject-errors](https://eslint.org/docs/rules/prefer-promise-reject-errors): 2
[radix](https://eslint.org/docs/rules/radix): 2
[vars-on-top](https://eslint.org/docs/rules/vars-on-top): 2
[yoda](https://eslint.org/docs/rules/yoda): 2
```

## ãŠã‚ã‚Šã«

ã¨ã‚Šã‚ãˆãšä¸€è¦§å‡ºåŠ›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚
ãã—ã¦`airbnb-base`ã®ãƒ«ãƒ¼ãƒ«ã‚»ãƒƒãƒˆã¯å³ã—ã‚ã ã¨åˆ†ã‹ã‚Šã¾ã—ãŸã€‚

## å‚è€ƒæƒ…å ±

https://dackdive.hateblo.jp/entry/2016/11/04/095000