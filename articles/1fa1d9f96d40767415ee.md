---
title: "npmã®Tips"
emoji: "ğŸ’¨"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["npm"]
published: false
---

# npmã§Error: EACCES: permission deniedã«ãªã£ãŸã¨ãã®å¯¾å‡¦æ–¹æ³•

`npm -g install xxx`ã—ãŸéš›ã« `Error: EACCES: permission denied` ãŒç™ºç”Ÿã—ã€å¤±æ•—ã—ãŸã€‚

```bash
$ npm install -g npm
npm WARN checkPermissions Missing write access to /usr/local/lib/node_modules/npm/node_modules/cliui/node_modules/ansi-regex
npm WARN checkPermissions Missing write access to /usr/local/lib/node_modules/npm/node_modules/chownr
npm WARN checkPermissions Missing write access to /usr/local/lib/node_modules/npm/node_modules/deep-extend
ã€ä¸­ç•¥ã€‘
npm ERR! code EACCES
npm ERR! syscall access
npm ERR! path /usr/local/lib/node_modules/npm/node_modules/cliui/node_modules/ansi-regex
npm ERR! errno -13
npm ERR! Error: EACCES: permission denied, access '/usr/local/lib/node_modules/npm/node_modules/cliui/node_modules/ansi-regex'
npm ERR!  [Error: EACCES: permission denied, access '/usr/local/lib/node_modules/npm/node_modules/cliui/node_modules/ansi-regex'] {
npm ERR!   stack: "Error: EACCES: permission denied, access '/usr/local/lib/node_modules/npm/node_modules/cliui/node_modules/ansi-regex'",
npm ERR!   errno: -13,
npm ERR!   code: 'EACCES',
npm ERR!   syscall: 'access',
npm ERR!   path: '/usr/local/lib/node_modules/npm/node_modules/cliui/node_modules/ansi-regex'
npm ERR! }
npm ERR! 
npm ERR! The operation was rejected by your operating system.
npm ERR! It is likely you do not have the permissions to access this file as the current user
npm ERR! 
npm ERR! If you believe this might be a permissions issue, please double-check the
npm ERR! permissions of the file and its containing directories, or try running
npm ERR! the command again as root/Administrator.

npm ERR! A complete log of this run can be found in:
```

ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦å¯¾å‡¦ã—ãŸã€‚
```bash
$ npm config get prefix
# /localã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
/usr/local
$ sudo chown -R $(whoami) $(npm config get prefix)/{lib/node_modules,bin,share}
```

#### å‚è€ƒè¨˜äº‹
[npmã§permission deniedã«ãªã£ãŸæ™‚ã®å¯¾å‡¦æ³•[mac]](https://qiita.com/okohs/items/ced3c3de30af1035242d)

# npm run textlintã‚’å®Ÿè¡Œã—ãŸéš›ã« `npm ERR! code ELIFECYCLEãŒå‡ºåŠ›ã•ã‚Œã‚‹` 

```bash
$ npx textlint "./articles/*.md"

/Users/xxxx/articles/1fa1d9f96d40767415ee.md
  53:33  error  Disallow to use "!"  ja-technical-writing/no-exclamation-question-mark

âœ– 1 problem (1 error, 0 warnings)

# npm runã§å®Ÿè¡Œã™ã‚‹ã¨npm ERR! code ELIFECYCLEãŒå‡ºåŠ›ã•ã‚Œã‚‹
$ npm run textlint

/Users/xxxx/articles/1fa1d9f96d40767415ee.md
  53:33  error  Disallow to use "!"  ja-technical-writing/no-exclamation-question-mark

âœ– 1 problems (1 errors, 0 warnings)

npm ERR! code ELIFECYCLE
npm ERR! errno 1
```

npm ãŒæŒ‡å®šã•ã‚ŒãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ãŸéš›ã«ã€ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿã®å‡ºåŠ›ã‚’ã™ã‚‹ã€‚textlint ã§ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹å ´åˆã¯ 0 ä»¥å¤–ã®çµ‚äº†ã‚³ãƒ¼ãƒ‰ã§è¿”ã£ã¦ãã¦ã„ã‚‹ã®ã§ã€è¡¨ç¤ºã•ã‚Œã‚‹ã€‚
ã“ã‚Œã‚’æŠ‘åˆ¶ã™ã‚‹ã«ã¯æ­£å¸¸çµ‚äº†ã™ã‚‹ã‚ˆã†ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å¤‰æ›´ã™ã‚‹ã€‚

```json
"scripts": {
  "textlint": "textlint \"./articles/*.md\" || exit 0"
}
```

#### å‚è€ƒURL
- [$ npm run eslit ã‚’ã™ã‚‹ã¨ELIFECYCLEã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹](https://teratail.com/questions/261270)